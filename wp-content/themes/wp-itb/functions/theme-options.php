<?php
$oswc_front = array(
	'sidebar_unique' => true,
	'sidebar_show' => true,
	'featured_show' => false,
	'featured_size' => 'large',
	'featured_duration' => 3,
	'featured_num' => 4,
	'featured_tag' => 'featured',
	'spotlight_show' => false,
	'spotlight_duration' => 3,
	'spotlight_scroll' => true,
	'spotlight_header' => 'Spotlight',
	'spotlight_num' => 4,
	'spotlight_type' => 'tag',
	'spotlight_tags' => 'spotlight',
	'tabs_show' => false,
	'tabs_cats' => 'Test Category, Another Category, Uncategorized',
	'tabs_type' => 'category',
	'tabs_numberpanel' => 6,
	'latestposts_show' => true,
	'latestposts_header' => 'Latest Posts',
	'latestposts_num' => 4,
	'trending_show' => false,
	'trending_header' => 'Newly Reviewed',
	'trending_num' => 8,
	'trending_type' => 'tag',
	'trending_tags' => 'slider',
	'categorypanels_show' => false,
	'categorypanels_cats_headers' => '',
	'categorypanels_numberpanel' => 5,
	'categorypanel_largepost' => false,
	'categorypanels_type' => 'category',
	'categorypanels_cats' => '',
	'front_latest_layout' => 'A',
	'front_latest_excerpt_enabled' => false,
	'front_latest_more_enabled' => false,
);

$oswc_single = array(
	'post_sidebar_unique' => false,
	'post_sidebar_hide' => false,
	'post_featured_image_video_show' => false,
	'post_featured_image_hide' => false,
	'post_tags_hide' => false,
	'post_related_hide' => false,
	'post_related_header_text' => 'Related: ',
	'post_related_number' => 6,
	'post_trending_hide' => true,
	'review_sidebar_unique' => false,
	'review_featured_image_video_show' => false,
	'review_tags_hide' => false,
	'review_related_hide' => false,
	'review_related_header_text' => 'Related: ',
	'review_trending_hide' => true,
	'sharebox_hide' => false,
	'authorbox_hide' => false,
	'twitter_show' => true,
	'facebook_show' => true,
	'digg_show' => false,
	'stumbleupon_show' => false,
	'plusone_show' => true,
	'yahoo_show' => false,
	'pinterest_show' => true,
	'tumblr_show' => false,
	'email_show' => true,	
);

$oswc_other = array(
	'archive_layout' => 'A',
	'archive_latest_hide' => false,
	'archive_dontmiss_hide' => false,
	'archive_sideber_show' => true,
	'archive_unique_sideber' => false,
	'archive_header' => '',
	'archive_meta_enabled' => true,
	'archive_excerpt_enabled' => false,	
	'archive_trending_enabled' => false,
	'search_latest_hide' => true,
	'search_dontmiss_hide' => true,
	'search_unique_sideber' => false,
	'search_meta_enabled' => true,
	'search_excerpt_enabled' => true,
	'search_more_enabled' => true,
	'search_trending_enabled' => false,
	'author_latest_hide' => true,
	'author_dontmiss_hide' => true,
	'author_sidebar_unique' => false,
	'author_header' => 'Contributors',
	'author_exclude' => '',
	'author_trending_enabled' => true,
	'directory_sidebar_enabled' => true,
	'404_latest_hide' => false,
	'404_dontmiss_hide' => false,
	'404_sidebar_unique' => false,
	'404_trending_enabled' => false,
	'page_sidebar_unique' => false,
	'page_trending_hide' => true,
	'full_width_trending_hide' => true,
	'review_sidebar_unique' => false,
	'review_num' => 6,	
);

$oswc_ads = array(
	'header_ad_hide' => false,
	'header_ad' => '<a href="http://itb.ac.id"><img src="/continuum/files/2011/03/ad-top.png" /></a>',
	'menu_ad_hide' => true,
		
	'single_text_ad_hide' => true,	
	'single_text_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',
	'single_comments_ad_hide' => true,
	'single_comments_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'review_overview_ad_hide' => true,
	'review_overview_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',
	'review_text_ad_hide' => true,
	'review_text_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',
	'review_comments_ad_hide' => true,
	'review_comments_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'featured_ad_hide' => true,
	'featured_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'spotlight_ad_hide' => true,
	'spotlight_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'tabs_ad_hide' => true,
	'tabs_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'trending_ad_hide' => true,
	'trending_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	'categorypanels_ad_hide' => true,
	'categorypanels_ad' => '<a href="http://itb.ac.id"><img src="/swagger/files/2011/10/sample-ad.png"></a>',	
	
		
);

$oswc_misc = array(
	'background' => '',
	'background_fixed' => false,
	'logo' => get_template_directory_uri()."/images/logo-main.png",
	'logo_iphone' => '',
	'logo_ipad' => '',
	'skin' => 'light',
	'color_scheme' => 'C32C0D',
	'logo_bar_image' => '',
	'hide_logo_bar_bg' => false,
	'search_show' => true,
	'top_widget_show' => true,
	'random_show' => true,
	'sub_menu_hide' => false,
	'footer_menu_hide' => false,
	'colorbox' => true,
	'demo' => false,
	
	'dontmiss_hide' => false,	
	'dontmiss_header' => "Don't Miss",
	'dontmiss_scroll' => true,
	'dontmiss_tag' => "dont-miss",
	'dontmiss_num' => 5,
	'dontmiss_type' => 'tag',
	'dontmiss_email_header' => "Get Our Newsletter",
	'dontmiss_widget_type' => 'Signup',
	
	'latest_hide' => false,	
	'latest_tag' => 'Latest',
	'latest_num' => 6,
	'latest_type' => 'tag',
		
	'signoff_text1' => "Did you enjoy this article? If so, we'd love to hear your thoughts in the comments below. It would be great if you subscribed to our RSS feed or signed up for email updates to get more goodness. There's lots more where this came from!",
	'signoff_text2' => "Here is signoff text 2. You can specify a different set of text and then apply that to posts. Suspendisse potenti. Integer adipiscing sodales eros a facilisis. Etiam eros lectus, fringilla ac porta non, tincidunt ultrices augue. Pellentesque tempus elementum leo, a pellentesque tellus sodales id. Ut auctor congue accumsan.",
	'signoff_text3' => "Here is signoff text 3. Donec tempus pretium aliquam. Aenean posuere, dui sed lacinia commodo, quam leo viverra odio, et congue sem nibh et ipsum. Suspendisse potenti. Integer adipiscing sodales eros a facilisis. Etiam eros lectus, fringilla ac porta non, tincidunt ultrices augue. Pellentesque tempus elementum leo, a pellentesque tellus sodales id. Ut auctor congue accumsan.",
	
	'twitter_name' => 'your twitter ID',
	'facebook_url' => 'http://www.facebook.com/institutteknologibandung',
	'rss_feed' => '',
	'feedburner' => '',
	'flickr_name' => 'Your flickr ID',
	'google_analytics' => '',
);

if ( is_admin() ) : // Load only if we are viewing an admin page

function oswc_register_settings() {
	// Register settings and call sanitation functions
	register_setting( 'oswc_theme_description', 'oswc_description', 'oswc_validate_description' );
	register_setting( 'oswc_theme_front', 'oswc_front', 'oswc_validate_front' );
	register_setting( 'oswc_theme_single', 'oswc_single', 'oswc_validate_single' );
	register_setting( 'oswc_theme_other', 'oswc_other', 'oswc_validate_other' );
	register_setting( 'oswc_theme_ads', 'oswc_ads', 'oswc_validate_ads' );
	register_setting( 'oswc_theme_misc', 'oswc_misc', 'oswc_validate_misc' );
	//get js and style
	$file_dir=get_template_directory_uri();
	wp_enqueue_style("functions", $file_dir."/functions/functions.css", false, "1.0", "all");
	wp_enqueue_script("rm_script", $file_dir."/functions/rm_script.js", false, "1.0");
}

add_action( 'admin_init', 'oswc_register_settings' );

function oswc_theme_options() {
	// Add theme options page to the addmin menu
	add_theme_page( 'Theme Options', 'Theme Options', 'edit_theme_options', 'theme_options', 'oswc_theme_home_page' );
}

add_action( 'admin_menu', 'oswc_theme_options' );

function mytheme_admin_tabs( $current = 'front' ) { 

	echo '<div class="wrap">';
	
	screen_icon(); echo "<h2>" . __( 'Theme Options','usdi itb' ) . "</h2>";

    $tabs = array( 'front' => __( 'Front Page', 'usdi itb' ), 'single' => __( 'Single Posts', 'usdi itb' ), 'misc' => __( 'Social Media', 'usdi itb' ) ); 
    $links = array(); 
    foreach( $tabs as $tab => $name ) : 
        if ( $tab == $current ) : 
            $links[] = "<a class='nav-tab nav-tab-active' href='?page=theme_options&tab=$tab'>$name</a>"; 
        else : 
            $links[] = "<a class='nav-tab' href='?page=theme_options&tab=$tab'>$name</a>"; 
        endif; 
    endforeach; 
    echo '<h3>'; 
    foreach ( $links as $link ) 
        echo $link; 
    echo '</h3>'; 
}

// Function to generate options page
function oswc_theme_home_page() {
	global $pagenow;
	
	if ( $pagenow == 'themes.php' && $_GET['page'] == 'theme_options' ) : 
    if ( isset ( $_GET['tab'] ) ) : 
        $tab = $_GET['tab']; 
    else: 
        $tab = 'front'; 
    endif; 
	
	mytheme_admin_tabs($tab);
	
    switch ( $tab ) : 
		case 'description' :
			theme_description_options();
			break;
        case 'front' : 
            theme_front_options(); 
            break; 
        case 'single' : 
            theme_single_options(); 
            break; 
		case 'other' : 
            theme_other_options(); 
            break; 
		case 'ads' : 
            theme_ads_options(); 
            break; 
		case 'misc' : 
            theme_misc_options(); 
            break; 
    endswitch; 
	endif;
}

// Function to generate options page
function theme_description_options() {
	global $oswc_description; ?>	
    
    	<div style="padding:0px 10px; width:850px;">
        
        	<h3><?php _e( 'Introduction &amp; How To Get Help', 'usdi itb' ); ?></h3>
            
            <p>
				<?php _e( 'The Theme Options page is separated into tabs to make it easier to manage the abundance of options. If you want to skip all this and just get your site working, you should be able to get by with changing a couple of the options on the Miscellaneous tab, and you are in business. The rest of these settings exist to give you the option of customizing your website to whatever level you want. Some of the tabs are further categorized by toggle bars for your convenience. Just click the toggle bar title to expand the section and manage the options, and click it again to collapse it. The options are layed out in an intuitive, easy-to-use format that makes it easy for you to find the setting you want to adjust. There is a short description next to each option, so if something seems confusing at first, just look at the description and you will probably figure it out. If at any time you do get stuck and cannot figure out how to make the theme do what you want it to do, you have four options at your disposal:', 'usdi itb' ); ?>
                
                <ol>
                	<li><?php _e( 'Refer to the', 'usdi itb' ); ?> <a href="<?php echo get_template_directory_uri(); ?>/documentation/" target="_blank"><?php _e( 'help documentation', 'usdi itb' ); ?></a> <?php _e( 'that is inside of the theme folder folder, as it contains further detailed information on using the theme.', 'usdi itb' ); ?></li>
                    <li><?php _e( 'Refer to the FAQ found in the Live Demo.', 'usdi itb' ); ?></li>
                    <li><?php _e( 'Search for help on the support forum, or post a new topic with your question:', 'usdi itb'); ?> <a href="http://support.industrialthemes.com/viewforum.php?f=6"><?php _e ('Support Forum','usdi itb'); ?></a></li>
                    <li><?php _e( 'Contact the author of the theme via a ', 'usdi itb' ); ?><a href="http://www.itb.ac.id/contact/"><?php _e( 'Theme Forest message', 'usdi itb' ); ?></a>.
                </ol>
                
                <?php _e( 'We know what it is like to be frustrated while trying to use a theme, and we want you to know that we are here to help. We want you to fully enjoy all the benefits of this theme that we took months to build!', 'usdi itb' ); ?>                
            </p>
            
            <h3><?php _e( 'Explanation of the Theme Options Tabs', 'usdi itb' ); ?></h3>
            
            <p>
            
            <b><?php _e( 'FRONT PAGE tab', 'usdi itb' ); ?></b> - <?php _e( 'these settings let you adjust the layout and style of the front page of your site. This tab is split into the main components that make up the front page, including the Featured Slider, the Spotlight Slider, the Trending Slider, the Category panels, and the Sidebar. Whether you are using "Your latest posts" as the "Front page displays" option on the Settings >> Reading Settings page, or you have selected a specific page as your front page, this is where you manage the settings. Keep in mind, this tab deals with the layout of the elements specific to the front page. If you are wondering about things like the Latest slider, the background, logo, colors, ad placement, etc., you will find those on other tabs, such as the Ads tab or the Miscellaneous tab, since they are elements that appear on more than just the front page.', 'usdi itb' ); ?>
            
            </p>    
            
            <p>
            
            <b><?php _e( 'SINGLE POSTS tab', 'usdi itb' ); ?></b> - <?php _e( 'these settings apply to all single post views, including regular posts and reviews. This tab contains settings organized by single post options (regular WordPress posts), single review options (your custom created post types), and post + review options (settings that apply to both regular post and review pages).', 'usdi itb' ); ?>
            
            </p>
			
            <p>
            
            <b><?php _e( 'MISCELLANEOUS tab', 'usdi itb' ); ?></b> - <?php _e( 'there are some elements that apply to all of your pages (or multiple pages), such as the site background, logo, Latest Slider, Google Analytics code, and more. All of these global settings are found on the Miscellanous tab.', 'usdi itb' ); ?>
            
            </p>
            
            <br />
	
    		<div class="special-text"><?php _e( '*You can override settings denoted in blue on individual posts &amp; pages using custom fields.', 'usdi itb' ); ?></div>
            
            <h3><?php _e( 'What About Reviews?', 'usdi itb' ); ?></h3>
            
            <p>
            
            <?php _e( 'The control panel for creating and managing your custom review types is separated into a different settings page. It is located at Appearance >> Review Options in the menu to the left. Note that there are a few general review settings within these Theme Options tabs, but all of the information specific to your review types is managed in the Review Options control panel.', 'usdi itb' ); ?>
            
            </p>   
        
        </div>
    
	</div>
    
<?php }

// Function to generate options page
function theme_front_options() {
	global $oswc_front;

	if ( ! isset( $_REQUEST['updated'] ) )
		$_REQUEST['updated'] = false; // This checks whether the form has just been submitted. ?>	

	<?php if ( false !== $_REQUEST['updated'] ) : ?>
	<div class="updated fade"><p><strong><?php _e( 'Options saved', 'usdi itb' ); ?></strong></p></div>
	<?php endif; // If the form has just been submitted, this shows the notification ?>

	<form method="post" action="options.php">

	<?php $settings = get_option( 'oswc_front', $oswc_front ); ?>
	
	<?php settings_fields( 'oswc_theme_front' );
	/* This function outputs some hidden fields required by the form,
	including a nonce, a unique number used to ensure the form has been submitted from the admin page
	and not somewhere else, very important for security */ ?>

	<table class="form-table">
    
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Display Sidebar', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Display Page Sidebar', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="sidebar_show" name="oswc_front[sidebar_show]" value="1" <?php checked( true, $settings['sidebar_show'] ); ?> />
    <label for="sidebar_show"><?php _e( 'Display the page sidebar. If this option is enabled, the Frontpage Sidebar widget panel will extent all the way down the page. If this option is disabled, the Frontpage Sidebar widget panel will only display next to the featured slider and the rest of the page will be full-width.', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="sidebar_unique" name="oswc_front[sidebar_unique]" value="1" <?php checked( true, $settings['sidebar_unique'] ); ?> />
    <label for="sidebar_unique"><?php _e( 'Display widgets from the Frontpage Sidebar widget panel instead of the Default Sidebar widget panel.', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Featured Slider', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Display Featured Slider', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="featured_show" name="oswc_front[featured_show]" value="1" <?php checked( true, $settings['featured_show'] ); ?> />
    <label for="featured_show"><?php _e( 'Display the Featured slider area (Nivo slider)', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top" style="display:none;"><th scope="row"><?php _e( 'Featured Slider Size', 'usdi itb' ); ?></th>
    <td>
    <input type="radio" id="featured_size_small" name="oswc_front[featured_size]" value="small" <?php checked( $settings['featured_size'], 'small' ); ?> />
    <label for="featured_size_small"><?php _e('Small','usdi itb'); ?></label>
    &nbsp;&nbsp;&nbsp;&nbsp;
    <input type="radio" id="featured_size_large" name="oswc_front[featured_size]" value="large" <?php checked( $settings['featured_size'], 'large' ); ?> />
    <label for="featured_size_large"><?php _e('Large','usdi itb'); ?></label>
    <br />
    <?php _e( 'The size of the featured slider', 'usdi itb' ); ?>
    </td>
    </tr>
    
    <tr valign="top"><th scope="row"><label for="featured_duration"><?php _e( 'Slide Duration', 'usdi itb' ); ?></label></th>
	<td>
	<select id="featured_duration" name="oswc_front[featured_duration]">
    	<?php $i=1;
		while ($i<=30) { ?>			
    		<option value="<?php echo $i; ?>"<?php if($settings['featured_duration']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
        <?php $i++;
		} ?>
	</select>
    <?php _e( 'Number of seconds each slide will display before rotating', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="featured_num"><?php _e( 'Number of Slides', 'usdi itb' ); ?></label></th>
	<td>
	<select id="featured_num" name="oswc_front[featured_num]">
    	<?php $i=1;
		while ($i<=30) { ?>			
    		<option value="<?php echo $i; ?>"<?php if($settings['featured_num']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
        <?php $i++;
		} ?>
	</select>
    <?php _e( 'Number of slides to rotate through', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="featured_tag"><?php _e( 'Featured Tag', 'usdi itb' ); ?></label></th>
	<td>
	<input id="featured_tag" name="oswc_front[featured_tag]" type="text" value="<?php esc_attr_e($settings['featured_tag']); ?>" />
    <?php _e( 'Name of the tag that you want to use to mark posts as Featured', 'usdi itb' ); ?>
	</td>
	</tr>
    
	
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Tabbed Posts', 'usdi itb' ); ?></h3>
	</td>
	</tr>

	<tr valign="top"><th scope="row"><?php _e( 'Display Tabbed Posts', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="tabs_show" name="oswc_front[tabs_show]" value="1" <?php checked( true, $settings['tabs_show'] ); ?> />
    <label for="tabs_show"><?php _e( 'Display the Tabbed Posts area below the Spotlight slider', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="tabs_type"><?php _e( 'Type of Posts', 'usdi itb' ); ?></label></th>
	<td>
	<select id="tabs_type" name="oswc_front[tabs_type]">    			
    	<option value="tag"<?php if($settings['tabs_type']=='tag') { ?> selected="selected"<?php } ?>><?php _e( 'Tags','usdi itb'); ?></option>  
        <option value="category"<?php if($settings['tabs_type']=='category') { ?> selected="selected"<?php } ?>><?php _e( 'Categories','usdi itb'); ?></option> 
        <option value="review"<?php if($settings['tabs_type']=='review') { ?> selected="selected"<?php } ?>><?php _e( 'Review Types','usdi itb'); ?></option>                 
	</select>
    <?php _e( 'The type of posts to look for to populate the tabs', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="tabs_cats"><?php _e( 'Type Names', 'usdi itb' ); ?></label></th>
	<td>
	<input id="tabs_cats" name="oswc_front[tabs_cats]" type="text" value="<?php esc_attr_e($settings['tabs_cats']); ?>" style="width:500px" /><br />
    <?php _e( 'Names of the tags, categories, or review types that you want to use for the tabs. Separate tags, categories, or review types by a comma, and one tab will be created for each term. You cannot mix and match tags, categories, and review types. Depending on the length of your names, the tabs could expand to a second line which will break the functionality of the tabs. If this happens, remove an item from the list until the tabs go back to only one line.', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="tabs_numberpanel"><?php _e( 'Number of posts per tab', 'usdi itb' ); ?></label></th>
	<td>
	<select id="tabs_numberpanel" name="oswc_front[tabs_numberpanel]">
    	<?php $i=3;
		while ($i<=60) { ?>			
    		<option value="<?php echo $i; ?>"<?php if($settings['tabs_numberpanel']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
        <?php $i++;
		} ?>
	</select><br />
    <?php _e( 'Number of posts to display within each of the tabs.', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Latest Posts', 'usdi itb' ); ?></h3>
	</td>
	</tr>

	<tr valign="top"><th scope="row"><?php _e( 'Display Latest Posts', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="latestposts_show" name="oswc_front[latestposts_show]" value="1" <?php checked( true, $settings['latestposts_show'] ); ?> />
    <label for="latestposts_show"><?php _e( 'Display your latest posts in a regular blog format on your front page', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="latestposts_num"><?php _e( 'Number of latest posts', 'usdi itb' ); ?></label></th>
	<td>
	<select id="latestposts_num" name="oswc_front[latestposts_num]">
    	<?php $i=1;
		while ($i<=20) { ?>			
    		<option value="<?php echo $i; ?>"<?php if($settings['latestposts_num']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
        <?php $i++;
		} ?>
	</select><br />
    <?php _e( 'Number of latest posts to display per page', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="latestposts_header"><?php _e( 'Header Text', 'usdi itb' ); ?></label></th>
	<td>
	<input id="latestposts_header" name="oswc_front[latestposts_header]" type="text" value="<?php esc_attr_e($settings['latestposts_header']); ?>" /><br />
    <?php _e( 'Text to use for the Latest Posts header', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Show Excerpt', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="latest_excerpt_enabled" name="oswc_front[latest_excerpt_enabled]" value="1" <?php checked( false, $settings['latest_excerpt_enabled'] ); ?> />
    <label for="latest_excerpt_enabled"><?php _e( 'Show the excerpt for the latest posts on the front page', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    </table>

	<p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	</form>

	</div>

	<?php
}

// Function to generate options page
function theme_single_options() {
	global $oswc_single;

	if ( ! isset( $_REQUEST['updated'] ) )
		$_REQUEST['updated'] = false; // This checks whether the form has just been submitted. ?>

	<?php if ( false !== $_REQUEST['updated'] ) : ?>
	<div class="updated fade"><p><strong><?php _e( 'Options saved', 'usdi itb' ); ?></strong></p></div>
	<?php endif; // If the form has just been submitted, this shows the notification ?>

	<form method="post" action="options.php">

	<?php $settings = get_option( 'oswc_single', $oswc_single ); ?>
	
	<?php settings_fields( 'oswc_theme_single' );
	/* This function outputs some hidden fields required by the form,
	including a nonce, a unique number used to ensure the form has been submitted from the admin page
	and not somewhere else, very important for security */ ?>
    
    <p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>
    
    <table class="form-table">
    
    <!--<tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Single Post Options', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Hide Sidebar', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="post_sidebar_hide" name="oswc_single[post_sidebar_hide]" value="1" <?php checked( true, $settings['post_sidebar_hide'] ); ?> />
    <label for="post_sidebar_hide"><?php _e( 'Hide sidebar on single posts', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="post_sidebar_unique" name="oswc_single[post_sidebar_unique]" value="1" <?php checked( true, $settings['post_sidebar_unique'] ); ?> />
    <label for="post_sidebar_unique"><?php _e( 'Display widgets from the Single Post Sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Featured Image + Video', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="post_featured_image_video_show" name="oswc_single[post_featured_image_video_show]" value="1" <?php checked( true, $settings['post_featured_image_video_show'] ); ?> />
    <label for="post_featured_image_video_show"><?php _e( 'For posts that have both a featured image and a featured video, show both the image and the video on the single post page instead of just the video', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Hide Featured Images', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="post_featured_image_hide" name="oswc_single[post_featured_image_hide]" value="1" <?php checked( true, $settings['post_featured_image_hide'] ); ?> />
    <label for="post_featured_image_hide"><?php _e( 'Hide featured images on all single posts.', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Tags', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="post_tags_hide" name="oswc_single[post_tags_hide]" value="1" <?php checked( true, $settings['post_tags_hide'] ); ?> />
    <label for="post_tags_hide"><?php _e( 'Hide the tag list underneath the post content', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Related', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="post_related_hide" name="oswc_single[post_related_hide]" value="1" <?php checked( true, $settings['post_related_hide'] ); ?> />
    <label for="post_related_hide"><?php _e( 'Hide the Related panel underneath the post content', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="post_related_number"><?php _e( 'Related Number of Posts', 'usdi itb' ); ?></label></th>
	<td>
	<select id="post_related_number" name="oswc_single[post_related_number]">
    	<?php $i=1;
		while ($i<=20) { ?>			
    		<option value="<?php echo $i; ?>"<?php if($settings['post_related_number']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
        <?php $i++;
		} ?>
	</select>
    <?php _e( 'Number of articles to be displayed inside each related tab', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="post_related_header_text"><?php _e( 'Related Header Text', 'usdi itb' ); ?></label></th>
	<td>
	<input id="post_related_header_text" name="oswc_single[post_related_header_text]" type="text" value="<?php esc_attr_e($settings['post_related_header_text']); ?>" />
    <?php _e( 'Text to use for the Related panel header', 'usdi itb' ); ?>
	</td>
	</tr>

	<tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Trending', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="post_trending_hide" name="oswc_single[post_trending_hide]" value="1" <?php checked( true, $settings['post_trending_hide'] ); ?> />
    <label for="post_trending_hide"><?php _e( 'Hide the trending slider that appears at the bottom of the single posts above the footer', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Single Review Options', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="review_sidebar_unique" name="oswc_single[review_sidebar_unique]" value="1" <?php checked( true, $settings['review_sidebar_unique'] ); ?> />
    <label for="review_sidebar_unique"><?php _e( 'Display widgets from the designated specific review sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Featured Image + Video', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="review_featured_image_video_show" name="oswc_single[review_featured_image_video_show]" value="1" <?php checked( true, $settings['review_featured_image_video_show'] ); ?> />
    <label for="review_featured_image_video_show"><?php _e( 'For reviews that have both a featured image and a featured video, show both the image and the video on the single review page instead of just the video', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Tags', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="review_tags_hide" name="oswc_single[review_tags_hide]" value="1" <?php checked( true, $settings['review_tags_hide'] ); ?> />
    <label for="review_tags_hide"><?php _e( 'Hide the tag list underneath the review content', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Related', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="review_related_hide" name="oswc_single[review_related_hide]" value="1" <?php checked( true, $settings['review_related_hide'] ); ?> />
    <label for="review_related_hide"><?php _e( 'Hide the Related panel underneath the review content', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="review_related_header_text"><?php _e( 'Related Header Text', 'usdi itb' ); ?></label></th>
	<td>
	<input id="review_related_header_text" name="oswc_single[review_related_header_text]" type="text" value="<?php esc_attr_e($settings['review_related_header_text']); ?>" />
    <?php _e( 'Text to use for the Related panel header', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Trending', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="review_trending_hide" name="oswc_single[review_trending_hide]" value="1" <?php checked( true, $settings['review_trending_hide'] ); ?> />
    <label for="review_trending_hide"><?php _e( 'Hide the trending slider that appears at the bottom of the single reviews above the footer', 'usdi itb' ); ?></label>
	</td>
	</tr>-->
    
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Post + Review Options', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Sharebox', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="sharebox_hide" name="oswc_single[sharebox_hide]" value="1" <?php checked( true, $settings['sharebox_hide'] ); ?> />
    <label for="sharebox_hide"><?php _e( 'Hide the sharebox on all single posts and reviews', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><?php _e( 'Sharebox Buttons', 'usdi itb' ); ?></th>
	<td>
	<input type="checkbox" id="twitter_show" name="oswc_single[twitter_show]" value="1" <?php checked( true, $settings['twitter_show'] ); ?> />
    <label for="twitter_show"><?php _e( 'Tweet', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="facebook_show" name="oswc_single[facebook_show]" value="1" <?php checked( true, $settings['facebook_show'] ); ?> />
    <label for="facebook_show"><?php _e( 'Facebook Like', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="plusone_show" name="oswc_single[plusone_show]" value="1" <?php checked( true, $settings['plusone_show'] ); ?> />
    <label for="plusone_show"><?php _e( 'Google +1', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="yahoo_show" name="oswc_single[yahoo_show]" value="1" <?php checked( true, $settings['yahoo_show'] ); ?> />
    <label for="yahoo_show"><?php _e( 'Yahoo Messenger', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="pinterest_show" name="oswc_single[pinterest_show]" value="1" <?php checked( true, $settings['pinterest_show'] ); ?> />
    <label for="pinterest_show"><?php _e( 'Pinterest', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="digg_show" name="oswc_single[digg_show]" value="1" <?php checked( true, $settings['digg_show'] ); ?> />
    <label for="digg_show"><?php _e( 'Digg', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="stumbleupon_show" name="oswc_single[stumbleupon_show]" value="1" <?php checked( true, $settings['stumbleupon_show'] ); ?> />
    <label for="stumbleupon_show"><?php _e( 'StumbleUpon', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="tumblr_show" name="oswc_single[tumblr_show]" value="1" <?php checked( true, $settings['tumblr_show'] ); ?> />
    <label for="tumblr_show"><?php _e( 'Tumblr', 'usdi itb' ); ?></label>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="email_show" name="oswc_single[email_show]" value="1" <?php checked( true, $settings['email_show'] ); ?> />
    <label for="email_show"><?php _e( 'Email', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Hide Authorbox', 'usdi itb' ); ?></span></th>
	<td>
	<input type="checkbox" id="authorbox_hide" name="oswc_single[authorbox_hide]" value="1" <?php checked( true, $settings['authorbox_hide'] ); ?> />
    <label for="authorbox_hide"><?php _e( 'Hide the authorbox on all single posts and reviews', 'usdi itb' ); ?></label>
	</td>
	</tr>
    
    </table>
    
	<p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	</form>

	</div>

	<?php
}

// Function to generate options page
function theme_other_options() {
	global $oswc_other;

	if ( ! isset( $_REQUEST['updated'] ) )
		$_REQUEST['updated'] = false; // This checks whether the form has just been submitted. ?>	

	<?php if ( false !== $_REQUEST['updated'] ) : ?>
	<div class="updated fade"><p><strong><?php _e( 'Options saved', 'usdi itb' ); ?></strong></p></div>
	<?php endif; // If the form has just been submitted, this shows the notification ?>

	<form method="post" action="options.php">

	<?php $settings = get_option( 'oswc_other', $oswc_other ); ?>
	
	<?php settings_fields( 'oswc_theme_other' );
	/* This function outputs some hidden fields required by the form,
	including a nonce, a unique number used to ensure the form has been submitted from the admin page
	and not somewhere else, very important for security */ ?>

	<div class="rm_wrap">
        <div class="rm_opts">
        
        	<?php //archive pages ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Archive Pages', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Archive Layout', 'usdi itb' ); ?></th>
                    <td>
                    <div class="radiowrapper">
                        <div class="radiobutton">
                            A<br />
                            <input type="radio" id="archive_layout_A" name="oswc_other[archive_layout]" value="A" <?php checked( $settings['archive_layout'], "A" ); ?> />
                        </div>
                        <div class="radioimage">
                            <label for="archive_layout_A"><img src="<?php echo get_template_directory_uri(); ?>/functions/images/post-layout-A.png" alt="layout A" /></label>
                        </div>
                    </div>
                    <div class="radiowrapper">
                        <div class="radiobutton">
                            B<br />
                            <input type="radio" id="archive_layout_B" name="oswc_other[archive_layout]" value="B" <?php checked( $settings['archive_layout'], "B" ); ?> />
                        </div>
                        <div class="radioimage">
                            <label for="archive_layout_B"><img src="<?php echo get_template_directory_uri(); ?>/functions/images/post-layout-B.png" alt="layout B" /></label>
                        </div>
                    </div>
                    <div class="radiowrapper">
                        <div class="radiobutton">
                            C<br />
                            <input type="radio" id="archive_layout_C" name="oswc_other[archive_layout]" value="C" <?php checked( $settings['archive_layout'], "C" ); ?> />
                        </div>
                        <div class="radioimage">
                            <label for="archive_layout_C"><img src="<?php echo get_template_directory_uri(); ?>/functions/images/post-layout-C.png" alt="layout C" /></label>
                        </div>
                    </div>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( "Hide Don't Miss", 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_dontmiss_hide" name="oswc_other[archive_dontmiss_hide]" value="1" <?php checked( true, $settings['archive_dontmiss_hide'] ); ?> />
                    <label for="archive_dontmiss_hide"><?php _e( "Hide the Don't Miss Bar", 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Hide Latest', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_latest_hide" name="oswc_other[archive_latest_hide]" value="1" <?php checked( true, $settings['archive_latest_hide'] ); ?> />
                    <label for="archive_latest_hide"><?php _e( 'Hide the latest slider', 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                
                    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_sidebar_unique" name="oswc_other[archive_sidebar_unique]" value="1" <?php checked( true, $settings['archive_sidebar_unique'] ); ?> />
                    <label for="archive_sidebar_unique"><?php _e( 'Display widgets from the Archive Sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_sidebar_show" name="oswc_other[archive_sidebar_show]" value="1" <?php checked( true, $settings['archive_sidebar_show'] ); ?> />
                    <label for="archive_sidebar_show"><?php _e( 'Display the sidebar on archive listing pages', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="archive_header"><?php _e( 'Header Text', 'usdi itb' ); ?></label></th>
                    <td>
                    <input id="archive_header" name="oswc_other[archive_header]" type="text" value="<?php esc_attr_e($settings['archive_header']); ?>" /><br />
                    <?php _e( 'Text to use as the header text instead of the default archive text headers', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Meta', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_meta_enabled" name="oswc_other[archive_meta_enabled]" value="1" <?php checked( true, $settings['archive_meta_enabled'] ); ?> />
                    <label for="archive_meta_enabled"><?php _e( 'Display the meta info for each post listed in the archives', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Excerpt', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_excerpt_enabled" name="oswc_other[archive_excerpt_enabled]" value="1" <?php checked( true, $settings['archive_excerpt_enabled'] ); ?> />
                    <label for="archive_excerpt_enabled"><?php _e( 'Display the excerpt for each post listed in the archives', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Trending', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="archive_trending_enabled" name="oswc_other[archive_trending_enabled]" value="1" <?php checked( true, $settings['archive_trending_enabled'] ); ?> />
                    <label for="archive_trending_enabled"><?php _e( 'Display the trending slider at the bottom of the archive page above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                                
                    </table>
                
                </div>
            </div>    
            <br />
            
            <?php //search results ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Search Results', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top"><th scope="row"><?php _e( "Hide Don't Miss", 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_dontmiss_hide" name="oswc_other[search_dontmiss_hide]" value="1" <?php checked( true, $settings['search_dontmiss_hide'] ); ?> />
                    <label for="search_dontmiss_hide"><?php _e( "Hide the Don't Miss Bar", 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Hide Latest', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_latest_hide" name="oswc_other[search_latest_hide]" value="1" <?php checked( true, $settings['search_latest_hide'] ); ?> />
                    <label for="search_latest_hide"><?php _e( 'Hide the latest slider', 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                
                    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_sidebar_unique" name="oswc_other[search_sidebar_unique]" value="1" <?php checked( true, $settings['search_sidebar_unique'] ); ?> />
                    <label for="search_sidebar_unique"><?php _e( 'Display widgets from the Archive Sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Meta', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_meta_enabled" name="oswc_other[search_meta_enabled]" value="1" <?php checked( true, $settings['search_meta_enabled'] ); ?> />
                    <label for="search_meta_enabled"><?php _e( 'Display the meta info for each post listed in the search results', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Excerpt', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_excerpt_enabled" name="oswc_other[search_excerpt_enabled]" value="1" <?php checked( true, $settings['search_excerpt_enabled'] ); ?> />
                    <label for="search_excerpt_enabled"><?php _e( 'Display the excerpt for each post listed in the search results', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display More Button', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_more_enabled" name="oswc_other[search_more_enabled]" value="1" <?php checked( true, $settings['search_more_enabled'] ); ?> />
                    <label for="search_more_enabled"><?php _e( 'Display the more button for each post listed in the search results', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Trending', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="search_trending_enabled" name="oswc_other[search_trending_enabled]" value="1" <?php checked( true, $settings['search_trending_enabled'] ); ?> />
                    <label for="search_trending_enabled"><?php _e( 'Display the trending slider at the bottom of the search results page above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                
                    </table>
                
                </div>
            </div>    
            <br />
            
            <?php //authors page ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Authors Page', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top"><th scope="row"><?php _e( "Hide Don't Miss", 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="author_dontmiss_hide" name="oswc_other[author_dontmiss_hide]" value="1" <?php checked( true, $settings['author_dontmiss_hide'] ); ?> />
                    <label for="author_dontmiss_hide"><?php _e( "Hide the Don't Miss Bar", 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Hide Latest', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="author_latest_hide" name="oswc_other[author_latest_hide]" value="1" <?php checked( true, $settings['author_latest_hide'] ); ?> />
                    <label for="author_latest_hide"><?php _e( 'Hide the latest slider', 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="author_sidebar_unique" name="oswc_other[author_sidebar_unique]" value="1" <?php checked( true, $settings['author_sidebar_unique'] ); ?> />
                    <label for="author_sidebar_unique"><?php _e( 'Display widgets from the Author Sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="author_header"><?php _e( 'Header Text', 'usdi itb' ); ?></label></th>
                    <td>
                    <input id="author_header" name="oswc_other[author_header]" type="text" value="<?php esc_attr_e($settings['author_header']); ?>" /><br />
                    <?php _e( 'Text to use as the header text of the author page', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="author_exclude"><?php _e( 'Exclude Authors', 'usdi itb' ); ?></label></th>
                    <td>
                    <input id="author_exclude" name="oswc_other[author_exclude]" type="text" value="<?php esc_attr_e($settings['author_exclude']); ?>" style="width:550px;" /><br />
                    <?php _e( 'Comma-separated list of usernames to exclude from the author list (e.g. jdoe, bmcculloh, admin)', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Display Trending', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="author_trending_enabled" name="oswc_other[author_trending_enabled]" value="1" <?php checked( true, $settings['author_trending_enabled'] ); ?> />
                    <label for="author_trending_enabled"><?php _e( 'Display the trending slider at the bottom of the author page above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                
                    </table>
                
                </div>
            </div>    
            <br />
            
            <?php //more pages ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'More Page Options', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top"><th scope="row"><?php _e( "Review Directory Sidebar", 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="directory_sidebar_enabled" name="oswc_other[directory_sidebar_enabled]" value="1" <?php checked( true, $settings['directory_sidebar_enabled'] ); ?> />
                    <label for="directory_sidebar_enabled"><?php _e( "Show the sidebar on the review directory listing page", 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( "404 Hide Don't Miss", 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="404_dontmiss_hide" name="oswc_other[404_dontmiss_hide]" value="1" <?php checked( true, $settings['404_dontmiss_hide'] ); ?> />
                    <label for="404_dontmiss_hide"><?php _e( "Hide the Don't Miss Bar on 404 pages", 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( '404 Hide Latest', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="404_latest_hide" name="oswc_other[404_latest_hide]" value="1" <?php checked( true, $settings['404_latest_hide'] ); ?> />
                    <label for="404_latest_hide"><?php _e( 'Hide the latest slider on 404 pages', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( '404 Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="404_sidebar_unique" name="oswc_other[404_sidebar_unique]" value="1" <?php checked( true, $settings['404_sidebar_unique'] ); ?> />
                    <label for="404_sidebar_unique"><?php _e( 'Display widgets from the Archive Sidebar widget panel instead of the Default Sidebar widget panel', 'usdi itb' ); ?></label>
                    </td>
                    </tr>	
                    
                    <tr valign="top"><th scope="row"><?php _e( '404 Display Trending', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="404_trending_enabled" name="oswc_other[404_trending_enabled]" value="1" <?php checked( true, $settings['404_trending_enabled'] ); ?> />
                    <label for="404_trending_enabled"><?php _e( 'Display the trending slider at the bottom of 404 pages above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Page Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="page_sidebar_unique" name="oswc_other[page_sidebar_unique]" value="1" <?php checked( true, $settings['page_sidebar_unique'] ); ?> />
                    <label for="page_sidebar_unique"><?php _e( 'Display widgets from the Page Sidebar widget panel instead of the Default Sidebar widget panel on pages', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Page Hide Trending', 'usdi itb' ); ?></span></th>
                    <td>
                    <input type="checkbox" id="page_trending_hide" name="oswc_other[page_trending_hide]" value="1" <?php checked( true, $settings['page_trending_hide'] ); ?> />
                    <label for="page_trending_hide"><?php _e( 'Hide the trending slider at the bottom of pages above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><?php _e( 'Full-Width Hide Trending', 'usdi itb' ); ?></span></th>
                    <td>
                    <input type="checkbox" id="full_width_trending_hide" name="oswc_other[full_width_trending_hide]" value="1" <?php checked( true, $settings['full_width_trending_hide'] ); ?> />
                    <label for="full_width_trending_hide"><?php _e( 'Hide the trending slider at the bottom of full-width pages above the footer', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><?php _e( 'Reviews Unique Sidebar', 'usdi itb' ); ?></th>
                    <td>
                    <input type="checkbox" id="review_sidebar_unique" name="oswc_other[review_sidebar_unique]" value="1" <?php checked( true, $settings['review_sidebar_unique'] ); ?> />
                    <label for="review_sidebar_unique"><?php _e( 'Display widgets from a review-specific sidebar widget panel instead of the Default Sidebar widget panel on review pages', 'usdi itb' ); ?></label>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="review_num"><?php _e( 'Reviews Per Page', 'usdi itb' ); ?></label></th>
                    <td>
                    <select id="review_num" name="oswc_other[review_num]">
                        <?php $i=1;
                        while ($i<=40) { ?>			
                            <option value="<?php echo $i; ?>"<?php if($settings['review_num']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
                        <?php $i++;
                        } ?>
                    </select><br />
                    <?php _e( 'Number of reviews to display per page. This refers to the review mini-site front pages as well as the taxonomy (review category) pages.', 'usdi itb' ); ?>
                    </td>
                    </tr>
                
                    </table>
                
                </div>
            </div>    
            <br />
            
            
        </div>
    </div>	

	<p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	</form>

	</div>

	<?php
}

// Function to generate options page
function theme_ads_options() {
	global $oswc_ads;

	if ( ! isset( $_REQUEST['updated'] ) )
		$_REQUEST['updated'] = false; // This checks whether the form has just been submitted. ?>

	<?php if ( false !== $_REQUEST['updated'] ) : ?>
	<div class="updated fade"><p><strong><?php _e( 'Options saved', 'usdi itb' ); ?></strong></p></div>
	<?php endif; // If the form has just been submitted, this shows the notification ?>

	<form method="post" action="options.php">

	<?php $settings = get_option( 'oswc_ads', $oswc_ads ); ?>
	
	<?php settings_fields( 'oswc_theme_ads' );
	/* This function outputs some hidden fields required by the form,
	including a nonce, a unique number used to ensure the form has been submitted from the admin page
	and not somewhere else, very important for security */ ?>

	<div class="rm_wrap">
        <div class="rm_opts">        
        	          
            <?php //single  ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Ads that appear on all pages', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table"><!-- Grab a hot cup of coffee, yes we're using tables! -->

                    <tr valign="top"><th scope="row"><span class="special"><label for="header_ad_hide"><?php _e( 'Hide Header Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="header_ad_hide" name="oswc_ads[header_ad_hide]" value="1" <?php checked( true, $settings['header_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears to the right of the logo in the header area', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="header_ad"><?php _e( 'Header Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="header_ad" name="oswc_ads[header_ad]" rows="4" cols="70"><?php echo stripslashes($settings['header_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="menu_ad_hide"><?php _e( 'Hide Menu Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="menu_ad_hide" name="oswc_ads[menu_ad_hide]" value="1" <?php checked( true, $settings['menu_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the category menu', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="menu_ad"><?php _e( 'Menu Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="menu_ad" name="oswc_ads[menu_ad]" rows="4" cols="70"><?php echo stripslashes($settings['menu_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="latest_ad_hide"><?php _e( 'Hide Latest Ad', 'usdi itb' ); ?></label>;</span></th>
                    <td>
                    <input type="checkbox" id="latest_ad_hide" name="oswc_ads[latest_ad_hide]" value="1" <?php checked( true, $settings['latest_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the latest slider', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="latest_ad"><?php _e( 'Latest Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="latest_ad" name="oswc_ads[latest_ad]" rows="4" cols="70"><?php echo stripslashes($settings['latest_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="footer_ad_hide"><?php _e( 'Hide Footer Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="footer_ad_hide" name="oswc_ads[footer_ad_hide]" value="1" <?php checked( true, $settings['footer_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears above the footer', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="footer_ad"><?php _e( 'Footer Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="footer_ad" name="oswc_ads[footer_ad]" rows="4" cols="70"><?php echo stripslashes($settings['footer_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                                
                    </table>
                
                </div>
            </div>    
            <br />
            
            <?php //archive  ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Ads that appear in the loop', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top"><th scope="row"><label for="ad_num"><?php _e( 'Number of Ads', 'usdi itb' ); ?></label></th>
                    <td>
                    <select id="ad_num" name="oswc_ads[ad_num]">
                        <?php $i=0;
                        while ($i<=10) { ?>			
                            <option value="<?php echo $i; ?>"<?php if($settings['ad_num']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
                        <?php $i++;
                        } ?>
                    </select>
                    <?php _e( 'Number of ads to display throughout the loop. Select "0" to hide these ads.', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad_increment"><?php _e( 'Increment', 'usdi itb' ); ?></label></th>
                    <td>
                    <select id="ad_increment" name="oswc_ads[ad_increment]">
                        <?php $i=2;
                        while ($i<=10) { ?>			
                            <option value="<?php echo $i; ?>"<?php if($settings['ad_increment']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
                        <?php $i++;
                        } ?>
                    </select>
                    <?php _e( 'Display an ad every Nth post. For instance, if "3" is selected, every 3rd post will be an ad.', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad_offset"><?php _e( 'Off-set', 'usdi itb' ); ?></label></th>
                    <td>
                    <select id="ad_offset" name="oswc_ads[ad_offset]">
                        <?php $i=0;
                        while ($i<=10) { ?>			
                            <option value="<?php echo $i; ?>"<?php if($settings['ad_offset']==$i) { ?> selected="selected"<?php } ?>><?php echo $i; ?></option>
                        <?php $i++;
                        } ?>
                    </select>
                    <?php _e( 'Number of posts to display before the first ad', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad_shuffle"><?php _e( 'Shuffle', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="ad_shuffle" name="oswc_ads[ad_shuffle]" value="1" <?php checked( true, $settings['ad_shuffle'] ); ?> /> <?php _e( 'Shuffle the ads to display in random order instead of the order you enter them', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad1"><?php _e( 'Ad 1', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad1" name="oswc_ads[ad1]" rows="4" cols="70"><?php echo stripslashes($settings['ad1']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                	<tr valign="top"><th scope="row"><label for="ad2"><?php _e( 'Ad 2', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad2" name="oswc_ads[ad2]" rows="4" cols="70"><?php echo stripslashes($settings['ad2']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad3"><?php _e( 'Ad 3', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad3" name="oswc_ads[ad3]" rows="4" cols="70"><?php echo stripslashes($settings['ad3']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad4"><?php _e( 'Ad 4', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad4" name="oswc_ads[ad4]" rows="4" cols="70"><?php echo stripslashes($settings['ad4']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad5"><?php _e( 'Ad 5', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad5" name="oswc_ads[ad5]" rows="4" cols="70"><?php echo stripslashes($settings['ad5']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad6"><?php _e( 'Ad 6', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad6" name="oswc_ads[ad6]" rows="4" cols="70"><?php echo stripslashes($settings['ad6']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad7"><?php _e( 'Ad 7', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad7" name="oswc_ads[ad7]" rows="4" cols="70"><?php echo stripslashes($settings['ad7']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad8"><?php _e( 'Ad 8', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad8" name="oswc_ads[ad8]" rows="4" cols="70"><?php echo stripslashes($settings['ad8']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad9"><?php _e( 'Ad 9', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad9" name="oswc_ads[ad9]" rows="4" cols="70"><?php echo stripslashes($settings['ad9']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="ad10"><?php _e( 'Ad 10', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="ad10" name="oswc_ads[ad10]" rows="4" cols="70"><?php echo stripslashes($settings['ad10']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    </table>
                    
                </div>
            </div>    
            <br />
            
            
            <?php //more ?>
            <div class="rm_section">
                <div class="rm_title">
                    <h3><img src="<?php echo get_template_directory_uri(); ?>/functions/images/trans.png" class="inactive" alt="plus" /><?php _e( 'Ads that appear on single pages', 'usdi itb' ); ?></h3>
                    <span class="submit">
                        <input type="submit" value="Save Options" />
                    </span>
                    <div class="clearfix"></div>
                </div>
            
                <div class="rm_options">
        
                    <table class="form-table">
                    
                    <tr valign="top">
                    <td colspan="2">
                    <h3><?php _e( 'Front Page (includes review minisite front pages)', 'usdi itb' ); ?></h3>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="featured_ad_hide"><?php _e( 'Hide Featured Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="featured_ad_hide" name="oswc_ads[featured_ad_hide]" value="1" <?php checked( true, $settings['featured_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the featured slider', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="featured_ad"><?php _e( 'Featured Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="featured_ad" name="oswc_ads[featured_ad]" rows="4" cols="70"><?php echo stripslashes($settings['featured_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="spotlight_ad_hide"><?php _e( 'Hide Spotlight Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="spotlight_ad_hide" name="oswc_ads[spotlight_ad_hide]" value="1" <?php checked( true, $settings['spotlight_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the spotlight slider', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="spotlight_ad"><?php _e( 'Spotlight Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="spotlight_ad" name="oswc_ads[spotlight_ad]" rows="4" cols="70"><?php echo stripslashes($settings['spotlight_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="tabs_ad_hide"><?php _e( 'Hide Tabs Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="tabs_ad_hide" name="oswc_ads[tabs_ad_hide]" value="1" <?php checked( true, $settings['tabs_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the tabbed posts container', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="tabs_ad"><?php _e( 'Tabs Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="tabs_ad" name="oswc_ads[tabs_ad]" rows="4" cols="70"><?php echo stripslashes($settings['tabs_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="trending_ad_hide"><?php _e( 'Hide Trending Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="trending_ad_hide" name="oswc_ads[trending_ad_hide]" value="1" <?php checked( true, $settings['trending_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the trending slider', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="trending_ad"><?php _e( 'Trending Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="trending_ad" name="oswc_ads[trending_ad]" rows="4" cols="70"><?php echo stripslashes($settings['trending_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><label for="categorypanels_ad_hide"><?php _e( 'Hide Category Panels Ad', 'usdi itb' ); ?></label></th>
                    <td>
                    <input type="checkbox" id="categorypanels_ad_hide" name="oswc_ads[categorypanels_ad_hide]" value="1" <?php checked( true, $settings['categorypanels_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the category panels', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="categorypanels_ad"><?php _e( 'Category Panels Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="categorypanels_ad" name="oswc_ads[categorypanels_ad]" rows="4" cols="70"><?php echo stripslashes($settings['categorypanels_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top">
                    <td colspan="2">
                    <h3><?php _e( 'Single Posts', 'usdi itb' ); ?></h3>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="single_text_ad_hide"><?php _e( 'Hide Content Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="single_text_ad_hide" name="oswc_ads[single_text_ad_hide]" value="1" <?php checked( true, $settings['single_text_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the post content', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="single_text_ad"><?php _e( 'Content Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="single_text_ad" name="oswc_ads[single_text_ad]" rows="4" cols="70"><?php echo stripslashes($settings['single_text_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="single_comments_ad_hide"><?php _e( 'Hide Comments Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="single_comments_ad_hide" name="oswc_ads[single_comments_ad_hide]" value="1" <?php checked( true, $settings['single_comments_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears above the comments', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="single_comments_ad"><?php _e( 'Comments Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="single_comments_ad" name="oswc_ads[single_comments_ad]" rows="4" cols="70"><?php echo stripslashes($settings['single_comments_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top">
                    <td colspan="2">
                    <h3><?php _e( 'Single Reviews', 'usdi itb' ); ?></h3>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="review_overview_ad_hide"><?php _e( 'Hide Overview Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="review_overview_ad_hide" name="oswc_ads[review_overview_ad_hide]" value="1" <?php checked( true, $settings['review_overview_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the review overview', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="review_overview_ad"><?php _e( 'Overview Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="review_overview_ad" name="oswc_ads[review_overview_ad]" rows="4" cols="70"><?php echo stripslashes($settings['review_overview_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="review_text_ad_hide"><?php _e( 'Hide Content Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="review_text_ad_hide" name="oswc_ads[review_text_ad_hide]" value="1" <?php checked( true, $settings['review_text_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears below the review content', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="review_text_ad"><?php _e( 'Content Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="review_text_ad" name="oswc_ads[review_text_ad]" rows="4" cols="70"><?php echo stripslashes($settings['review_text_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                    
                    <tr valign="top"><th scope="row"><span class="special"><label for="review_comments_ad_hide"><?php _e( 'Hide Comments Ad', 'usdi itb' ); ?></label></span></th>
                    <td>
                    <input type="checkbox" id="review_comments_ad_hide" name="oswc_ads[review_comments_ad_hide]" value="1" <?php checked( true, $settings['review_comments_ad_hide'] ); ?> /> <?php _e( 'Hide the ad that appears above the comments', 'usdi itb' ); ?>
                    </td>
                    </tr>

                    <tr valign="top"><th scope="row"><label for="review_comments_ad"><?php _e( 'Comments Ad HTML', 'usdi itb' ); ?></label></th>
                    <td>
                    <textarea id="review_comments_ad" name="oswc_ads[review_comments_ad]" rows="4" cols="70"><?php echo stripslashes($settings['review_comments_ad']); ?></textarea><br />
                    <?php _e( 'The HTML for the advertisment', 'usdi itb' ); ?>
                    </td>
                    </tr>
                                        
                    </table>
                    
                </div>
            </div>    
            <br />
            
        </div>
    </div>	

	<p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	</form>

	</div>

	<?php
}

// Function to generate options page
function theme_misc_options() {
	global $oswc_misc;

	if ( ! isset( $_REQUEST['updated'] ) )
		$_REQUEST['updated'] = false; // This checks whether the form has just been submitted. ?>

	<?php if ( false !== $_REQUEST['updated'] ) : ?>
	<div class="updated fade"><p><strong><?php _e( 'Options saved', 'usdi itb' ); ?></strong></p></div>
	<?php endif; // If the form has just been submitted, this shows the notification ?>

	<form method="post" action="options.php">

	<?php $settings = get_option( 'oswc_misc', $oswc_misc ); ?>
	
	<?php settings_fields( 'oswc_theme_misc' );
	/* This function outputs some hidden fields required by the form,
	including a nonce, a unique number used to ensure the form has been submitted from the admin page
	and not somewhere else, very important for security */ ?>
    
    <p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	<table class="form-table"><!-- Grab a hot cup of coffee, yes we're using tables! -->
	
    <tr valign="top">
	<td colspan="2">
	<h3><?php _e( 'Social Media', 'usdi itb' ); ?></h3>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="twitter_name"><?php _e( 'Twitter Username', 'usdi itb' ); ?></label></th>
	<td>
	<input id="twitter_name" name="oswc_misc[twitter_name]" type="text" value="<?php  esc_attr_e($settings['twitter_name']); ?>" />
    <?php _e( 'Your Twitter Username', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="facebook_url"><?php _e( 'Facebook URL', 'usdi itb' ); ?></label></th>
	<td>
	<input id="facebook_url" name="oswc_misc[facebook_url]" type="text" value="<?php  esc_attr_e($settings['facebook_url']); ?>" style="width:500px;" />
    <?php _e( 'Your Facebook URL', 'usdi itb' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="flickr_name"><?php _e( 'Flickr Account ID', 'usdi itb' ); ?></label></th>
	<td>
	<input id="flickr_name" name="oswc_misc[flickr_name]" type="text" value="<?php  esc_attr_e($settings['flickr_name']); ?>" />
    <?php _e( 'Your Flickr Account ID. Use this service to find it: http://idgettr.com/', 'usdi itb' ); ?> 
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="rss_feed"><?php _e( 'RSS Feed URL', 'made' ); ?></label></th>
	<td>
	<input id="rss_feed" name="oswc_misc[rss_feed]" type="text" value="<?php  esc_attr_e($settings['rss_feed']); ?>" style="width:500px;" />
    <?php _e( 'Your RSS Feed URL', 'made' ); ?>
	</td>
	</tr>
    
    <tr valign="top"><th scope="row"><label for="feedburner"><?php _e( 'Feedburner Feed Name', 'made' ); ?></label></th>
	<td>
	<input id="feedburner" name="oswc_misc[feedburner]" type="text" value="<?php  esc_attr_e($settings['feedburner']); ?>" style="width:500px;" />&nbsp;&nbsp;
    <a href="http://netprofitstoday.com/blog/how-to-find-your-feedburner-id/" target="_blank"><?php _e( 'How to find your Feed Name','made'); ?></a>&nbsp;&raquo;
	</td>
	</tr>
    
    <tr valign="top" style="display:none;"><th scope="row"><label for="google_analytics"><?php _e( 'Google Analytics', 'made' ); ?></label></th>
	<td>
	<textarea id="google_analytics" name="oswc_misc[google_analytics]" rows="15" cols="125"><?php echo stripslashes($settings['google_analytics']); ?></textarea><br />
    <?php _e( 'Copy &amp; paste your Google Analytics code', 'made' ); ?>
	</td>
	</tr>

	</table>

	<p class="submit"><input type="submit" class="button-primary" value="Save Options" /></p>

	</form>

	</div>
    
    <!-- enable color pickers -->
	<script type="text/javascript">
    jQuery(document).ready(function(){
        //colorpickers
        jQuery('#color_scheme').ColorPicker({
            onSubmit: function(hsb, hex, rgb, el) {
                jQuery(el).val(hex);
                jQuery(el).ColorPickerHide();
            },
            onBeforeShow: function () {
                jQuery(this).ColorPickerSetColor(this.value);
            },
            onChange: function (hsb, hex, rgb) {
                jQuery('#color_scheme_preview').css('backgroundColor', '#' + hex);
                jQuery('#color_scheme').val(hex);
            }
        })        
        .bind('keyup', function(){
            jQuery(this).ColorPickerSetColor(this.value);
        });
    });
    </script>

	<?php
}

function oswc_validate_front( $input ) {
	global $oswc_front;

	$settings = get_option( 'oswc_front', $oswc_front );
	
	// We strip all tags from the text field, to avoid vulnerablilties like XSS
	$input['spotlight_tag'] = wp_filter_nohtml_kses( $input['spotlight_tag'] );
	$input['spotlight_header_text'] = wp_filter_post_kses( $input['spotlight_header_text'] );
	$input['spotlight_reactions_text'] = wp_filter_post_kses( $input['spotlight_reactions_text'] );
	
	return $input;
}

function oswc_validate_single( $input ) {
	global $oswc_single;

	$settings = get_option( 'oswc_single', $oswc_single );
	
	// We strip all tags from the text field, to avoid vulnerablilties like XSS
	$input['archive_header_text'] = wp_filter_post_kses( $input['archive_header_text'] );
	$input['category_header_text'] = wp_filter_post_kses( $input['category_header_text'] );	
		
	return $input;
}

function oswc_validate_other( $input ) {
	global $oswc_other;

	$settings = get_option( 'oswc_other', $oswc_other );
	
		
	return $input;
}

function oswc_validate_ads( $input ) {
	global $oswc_ads;

	$settings = get_option( 'oswc_ads', $oswc_ads );
	
	
	return $input;
}

function oswc_validate_misc( $input ) {
	global $oswc_misc;

	$settings = get_option( 'oswc_misc', $oswc_misc );
		
		
	return $input;
}

endif;  // EndIf is_admin()
?>